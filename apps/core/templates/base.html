<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Event Hub{% endblock %}</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#4F46E5',
                        background: '#F8F9FB',
                        textDark: '#111827',
                        textLight: '#6B7280',
                    },
                    fontFamily: {
                        sans: ['Inter', 'Poppins', 'sans-serif'],
                    },
                }
            }
        }
    </script>

    <!-- Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Poppins:wght@400;500;600&display=swap"
        rel="stylesheet">

    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F8F9FB;
            color: #111827;
        }

        .btn-primary {
            background-color: #4F46E5;
            color: white;
        }

        .btn-primary:hover {
            opacity: 0.9;
        }

        .text-light {
            color: #6B7280;
        }

        /* Glassmorphism Hover Effects */
        .glass-card {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .glass-card:hover {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.18);
            transform: translateY(-4px);
        }

        .glass-effect {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        .glass-sidebar-item:hover {
            background: rgba(79, 70, 229, 0.1);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            box-shadow: 0 4px 16px 0 rgba(79, 70, 229, 0.1);
        }
    </style>
    {% block extra_css %}{% endblock %}
</head>

<body class="bg-background text-textDark overflow-x-hidden">
    <div class="flex h-screen overflow-hidden">
        <!-- Sidebar (Hidden on login/register) -->
        {% if not is_auth_page %}
        {% include 'components/sidebar.html' %}
        {% endif %}

        <div class="flex-1 flex flex-col overflow-y-auto">
            <!-- Navbar -->
            {% if not is_auth_page %}
            {% include 'components/navbar.html' %}
            {% endif %}

            <main class="flex-1 p-6">
                <!-- Messages -->
                {% if messages %}
                <div class="mb-4">
                    {% for message in messages %}
                    <div
                        class="p-4 rounded-lg mb-2 {% if message.tags == 'error' %}bg-red-100 text-red-700{% else %}bg-indigo-100 text-indigo-700{% endif %}">
                        {{ message }}
                    </div>
                    {% endfor %}
                </div>
                {% endif %}

                {% block content %}{% endblock %}
            </main>
        </div>
    </div>

    {% block extra_js %}{% endblock %}

    <script>
        const btn = document.getElementById('mobile-menu-btn');
        const sidebar = document.getElementById('sidebar');

        if (btn && sidebar) {
            btn.addEventListener('click', () => {
                sidebar.classList.toggle('hidden');
                sidebar.classList.toggle('absolute');
                sidebar.classList.toggle('inset-y-0');
                sidebar.classList.toggle('left-0');
                sidebar.classList.toggle('shadow-xl');
            });

            // Close sidebar when clicking outside on mobile
            document.addEventListener('click', (e) => {
                if (!sidebar.contains(e.target) && !btn.contains(e.target) && !sidebar.classList.contains('hidden') && window.innerWidth < 768) {
                    sidebar.classList.add('hidden');
                    sidebar.classList.remove('absolute', 'inset-y-0', 'left-0', 'shadow-xl');
                }
            });
        }
    </script>
</body>

</html>